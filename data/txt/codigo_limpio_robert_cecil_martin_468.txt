268 */ 269 public void testserialization() { 270 271 serialdate d1 = serialdate.createinstance(15, 4, 2000); 272 serialdate d2 = null; 273 274 try { 275 bytearrayoutputstream buffer = new bytearrayoutputstream(); 276 objectoutput out = new objectoutputstream(buffer); 277 out.writeobject(d1); 278 out.close(); 279 280 objectinput in = new objectinputstream( new bytearrayinputstream(buffer.tobytearray())); 281 d2 = (serialdate) in.readobject(); 282 in.close(); 283 } 284 catch (exception e) { 285 system.out.println(e.tostring()); 286 } 287 assertequals(d1, d2); 288 289 } 290 291 /** 292 * prueba para el informe de error 1096282 (ya corregido). 293 */ 294 public void test1096282() { 295 serialdate d = serialdate.createinstance(29, 2, 2004); 296 d = serialdate.addyears(1, d); 297 serialdate expected = serialdate.createinstance(28, 2, 2005); 298 asserttrue(d.ison(expected)); 299 } 300 301 /** 302 * diversas pruebas para el mÃ©todo addmonths(). 303 */ 304 public void testaddmonths() { 305 serialdate d1 = serialdate.createinstance(31, 5, 2004); 307 serialdate d2 = serialdate.addmonths(1, d1); 308 assertequals(30, d2.getdayofmonth()); 309 assertequals(6, d2.getmonth()); 310 assertequals(2004, d2.getyyyy()); 311 312 serialdate d3 = serialdate.addmonths(2, d1); 469