268 */ 269 public void testSerialization() { 270 271 SerialDate d1 = SerialDate.createInstance(15, 4, 2000); 272 SerialDate d2 = null; 273 274 try { 275 ByteArrayOutputStream buffer = new ByteArrayOutputStream(); 276 ObjectOutput out = new ObjectOutputStream(buffer); 277 out.writeObject(d1); 278 out.close(); 279 280 ObjectInput in = new ObjectInputStream( new ByteArrayInputStream(buffer.toByteArray())); 281 d2 = (SerialDate) in.readObject(); 282 in.close(); 283 } 284 catch (Exception e) { 285 System.out.println(e.toString()); 286 } 287 assertEquals(d1, d2); 288 289 } 290 291 /** 292 * Prueba para el informe de error 1096282 (ya corregido). 293 */ 294 public void test1096282() { 295 SerialDate d = SerialDate.createInstance(29, 2, 2004); 296 d = SerialDate.addYears(1, d); 297 SerialDate expected = SerialDate.createInstance(28, 2, 2005); 298 assertTrue(d.isOn(expected)); 299 } 300 301 /** 302 * Diversas pruebas para el m√©todo addMonths(). 303 */ 304 public void testAddMonths() { 305 SerialDate d1 = SerialDate.createInstance(31, 5, 2004); 307 SerialDate d2 = SerialDate.addMonths(1, d1); 308 assertEquals(30, d2.getDayOfMonth()); 309 assertEquals(6, d2.getMonth()); 310 assertEquals(2004, d2.getYYYY()); 311 312 SerialDate d3 = SerialDate.addMonths(2, d1); 469