listado 3-7 setupteardownincluder.java. package fitnesse.html; import fitnesse.responders.run.suiteresponder; import fitnesse.wiki.*; public class setupteardownincluder { private pagedata pagedata; private boolean issuite; private wikipage testpage; private stringbuffer newpagecontent; private pagecrawler pagecrawler; public static string render(pagedata pagedata) throws exception { return render(pagedata, false); } public static string render(pagedata pagedata, boolean issuite) throws exception { return new setupteardownincluder(pagedata).render(issuite); } private setupteardownincluder(pagedata pagedata) { this.pagedata = pagedata; testpage = pagedata.getwikipage(); pagecrawler = testpage.getpagecrawler(); newpagecontent = new stringbuffer(); } private string render(boolean issuite) throws exception { this.issuite = issuite; if (istestpage()) includesetupandteardownpages(); return pagedata.gethtml(); } private boolean istestpage() throws exception { return pagedata.hasattribute(“test”); } private void includesetupandteardownpages() throws exception { includesetuppages(); includepagecontent(); includeteardownpages(); updatepagecontent(); } private void includesetuppages() throws exception { if (issuite) includesuitesetuppage(); includesetuppage(); } 84