return month.lastday(); } ahora empieza a ponerse interesante. la siguiente función es adddays (líneas 562-576). en primer lugar, como opera en las variables de daydate , no debería ser estática [g18]. la cambio por un método de instancia. por otra parte, invoca la función toserial , cuyo nombre deberíamos cambiar por toordinal [n1]. por último, el método se puede simplificar. public daydate adddays(int days) { return daydatefactory.makedate(toordinal() + days); } lo mismo sucede con addmonths (líneas 578-602). debería ser un método de instancia [g18]. el algoritmo es un tanto complicado, de modo que recurro a la explicación de variables temporales [103] [g19] para que sea más transparente. también cambio el nombre del método getyyy por getyear [n1]. public daydate addmonths(int months) { int thismonthasordinal = 12 * getyear() + getmonth().index - 1; int resultmonthasordinal = thismonthasordinal + months; int resultyear = resultmonthasordinal / 12; month resultmonth = month.make(resultmonthasordinal % 12 + 1); int lastdayofresultmonth = lastdayofmonth(resultmonth, resultyear); int resultday = math.min(getdayofmonth(), lastdayofresultmonth); return daydatefactory.makedate(resultday, resultmonth, resultyear); } la función addyears (líneas 604-626) es similar al resto. public daydate plusyears(int years) { int resultyear = getyear() + years; int lastdayofmonthinresultyear = lastdayofmonth(getmonth(), resultyear); int resultday = math.min(getdayofmonth(), lastdayofmonthinresultyear); return daydatefactory.makedate(resultday, getmonth(), resultyear); } hay algo que me preocupa sobre el cambio de estos métodos de estáticos a métodos de instancia. ¿la expresión date.adddays(5) aclara que el objeto date no cambia y que se devuelve una nueva instancia de daydate o se supone, equivocadamente, que se añaden cinco días al objeto date ? pensará que no es un gran problema, pero un fragmento de código como el siguiente puede ser muy engañoso [g20]. daydate date = datefactory.makedate(5, month.december, 1952); date.adddays(7); // desplazar la fecha una semana 352