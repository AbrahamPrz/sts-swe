booleanvalue = true; } public object get() { return booleanvalue; } } private class stringargumentmarshaler extends argumentmarshaler { private string stringvalue = “”; public void set(iterator<string> currentargument) throws argsexception { } public void set(string s) { stringvalue = s; } public object get() { return stringvalue; } } private class integerargumentmarshaler extends argumentmarshaler { private int intvalue = 0; public void set(iterator<string> currentargument) throws argsexception { } public void set(string s) throws argsexception { try { intvalue = integer.parseint(s); } catch (numberformatexception e) { throw new argsexception(); } } public object get() { return intvalue; } } y ahora ya podemos eliminar setbooleanarg : private boolean setargument(char argchar) throws argsexception { argumentmarshaler m = marshalers.get(argchar); if (m == null) return false; try { if (m instanceof booleanargumentmarshaler) m.set (currentargument); else if (m instanceof stringargumentmarshaler) setstringarg(m); else if (m instanceof integerargumentmarshaler) setintarg(m); 301