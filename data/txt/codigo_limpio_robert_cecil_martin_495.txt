476 daystoendofprecedingmonth 477 = leap_year_aggregate_days_to_end_of_preceding_month; 478 } 479 480 // get the month from the serial date 481 int mm = 1; 482 int sss = ss2 + daystoendofprecedingmonth[mm] - 1; 483 while (sss < this.serial) { 484 mm = mm + 1; 485 sss = ss2 + daystoendofprecedingmonth[mm] - 1; 486 } 487 this.month = mm - 1; 488 489 // el resto es d(+1); 490 this.day = this.serial - ss2 491 - daystoendofprecedingmonth[this.month] + 1; 492 493 } 494 495 } listado b-6 relativedayofweekrule.java 1 /* ============================================================= 2 * jcommon : biblioteca gratuita de clases de propósito general para java(tm) 3 * ============================================================= 4 * 5 * (c) copyright 2000-2005, de object refinery limited y colaboradores. 6 * 7 * información del proyecto: http://www.jfree.org/jcommon/index.html 8 * 9 * esta biblioteca es software gratuito; puede distribuirla y/o modificarla 10 * bajo las condiciones de la licencia pública general gnu publicada por 11 * la free software foundation; ya sea la versión 2.1 de la licencia, u 12 * otra versión posterior (de su elección). 13 * 14 * esta biblioteca se distribuye con la intención de que sea útil, pero 15 * sin garantía alguna, incluida la garantía implícita de comerciabilidad 16 * e idoneidad para un determinado fin. consulte la licencia pública general gnu 17 * si necesita más información al respecto. 18 * 496