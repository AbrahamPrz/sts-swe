544  Capítulo 20 ■ Software embebido  Desde luego, es importante garantizar que los procesos productor y consumidor no tra- ten de acceder al mismo ítem al mismo tiempo (es decir, cuando Inicio = Final). También debemos asegurarnos de que el proceso productor no agregue ítems a un buffer lleno y que el proceso consumidor no tome ítems desde un buffer vacío. Para ello, implemente el buffer circular como un proceso con las operaciones Get y Put para acceder al buffer. La operación Put (ingresar) es llamada por el proceso productor y la operación Get (obtener) por el proceso consumidor. Las primitivas de sincronización, como los semáforos o las regiones críticas, se usan para asegurar que las operaciones de Get y Put están sincroni-zadas, de manera que no accedan a la misma ubicación al mismo tiempo. Si el buffer está lleno, el proceso Put debe esperar hasta que un espacio (slot) esté libre; si el buffer está vacío, el proceso Get debe esperar hasta hacer una entrada. Una vez que se ha elegido la plataforma de ejecución para el sistema, se ha diseñado una arquitectura de proceso y se ha determinado una política de planeación, es nece-sario comprobar que el sistema cumplirá sus requerimientos de temporización. Esto se puede hacer mediante análisis estático del sistema a través del conocimiento del compor-tamiento de temporización de los componentes, o por medio de simulación. Este análisis puede revelar que el sistema no se desempeñará de manera adecuada. La arquitectura del proceso, política de planeación, plataforma de ejecución o todo ello, pueden rediseñarse entonces para mejorar el rendimiento del sistema. Las restricciones de temporización u otros requerimientos en ocasiones pueden sig-nificar que es mejor implementar en el hardware algunas funciones del sistema, tales como el procesamiento de señales, en hardware. Los modernos componentes de hard-ware, como los FPGA (por las siglas de Field Programmable Gate Array), son flexibles, así que pueden adaptarse a diferentes funciones. Los componentes de hardware ofrecen mucho mejor rendimiento que el software equivalente. Los cuellos de botella de proce-samiento del sistema pueden identificarse y sustituirse por hardware, de manera que se evita la costosa optimización de software.  20.1.1 Modelado de sistemas de tiempo real Los eventos a los que un sistema de tiempo real debe reaccionar causan con frecuencia que el sistema se mueva de un estado a otro. Por esta razón, se usan por lo general los mode-los de estado, que se exponen en el capítulo 5, para describir los sistemas de tiempo real. Proceso consumidorProceso productorBuffer circular InicioFinal v1 v2 v3 v4 v5v6v7v8v9v10 Figura 20.4 Procesos  productor/consumidor  que comparten un buffer circular M20_SOMMERVILLE_INGENIERIA_1ED_SE_537-564.indd   544M20_SOMMERVILLE_INGENIERIA_1ED_SE_537-564.indd   544 3/18/11   5:05:49 PM3/18/11   5:05:49 PM