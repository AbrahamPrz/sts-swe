70  Capítulo 3 ■ Desarrollo ágil de software  El papel del cliente en el proceso de pruebas es ayudar a desarrollar pruebas de aceptación  para las historias, que deban implementarse en la siguiente liberación del sistema. Como se estudiará en el capítulo 8, las pruebas de aceptación son el proceso donde el sistema se pone a prueba usando datos del cliente para verificar que se cubren las necesidades reales de éste. En XP, la prueba de aceptación, como el desarrollo, es incremental. El cliente que forma parte del equipo escribe pruebas conforme avanza el desarrollo. Por lo tanto, todo código nuevo se valida para garantizar que eso sea lo que necesita el cliente. Para la historia en la figura 3.5, la prueba de aceptación implicaría escenarios donde a) se cambió la dosis de  un medicamento, b) se seleccionó un nuevo medicamento y c) se usó el formulario para  encontrar un medicamento. En la práctica, se requiere por lo general una serie de pruebas de aceptación en vez de una sola prueba. Contar con el cliente para apoyar el desarrollo de pruebas de aceptación en ocasiones es una gran dificultad en el proceso de pruebas XP. Quienes adoptan el rol del cliente tienen disponibilidad muy limitada, por lo que es probable que no trabajen a tiempo completo con el equipo de desarrollo. El cliente podría creer que brindar los requerimientos fue suficiente contribución y, por lo tanto, se mostrarían renuentes a intervenir en el proceso de pruebas. La automatización de las pruebas es esencial para el desarrollo de la primera prueba. Las pruebas se escriben como componentes ejecutables antes de implementar la tarea. Dichos componentes de pruebas deben ser independientes, simular el envío de la entrada a probar y verificar que el resultado cumple con la especificación de salida. Un marco de pruebas automatizadas es un sistema que facilita la escritura de pruebas realizables y envía una serie de pruebas para su ejecución. Junit (Massol y Husted, 2003) es un ejemplo usado ampliamente de un marco de pruebas automatizadas. Conforme se automatizan las pruebas, siempre hay una serie de pruebas que se ejecutan rápida y fácilmente. Cada vez que se agregue cualquier funcionalidad al sistema, pueden correrse las pruebas y conocerse de inmediato los problemas que introduce el nuevo código. El desarrollo de la primera prueba y las pruebas automatizadas por lo general dan por resultado un gran número de pruebas que se escriben y ejecutan. Sin embargo, este enfo-que no conduce necesariamente a pruebas minuciosas del programa. Existen tres razones para ello: 1. Los programadores prefieren programar que probar y, en ocasiones, toman atajos  cuando escriben pruebas. Por ejemplo, escriben pruebas incompletas que no com- prueban todas las posibles excepciones que quizás ocurran.Figura 3.7  Descripción de caso de prueba para comprobar dosisEntrada: 1.  Un número en mg que represente una sola dosis del medicamento.2.  Un número que signifique el número de dosis individuales por día. Pruebas: 1.   Probar las entradas donde la dosis individual sea correcta, pero la frecuencia muy elevada.2.   Probar las entradas donde la dosis individual sea muy alta y muy baja.3.   Probar las entradas donde la dosis individual × frecuencia sea muy alta y muy baja.4.   Probar las entradas donde la dosis individual × frecuencia esté en el rango permitido. Salida: OK o mensaje de error que indique que la dosis está fuera del rango de seguridad.Prueba 4: Comprobación de dosis M03_SOMMERVILLE_INGENIERIA_1ED_SE_056-081.indd   70M03_SOMMERVILLE_INGENIERIA_1ED_SE_056-081.indd   70 3/18/11   4:46:25 PM3/18/11   4:46:25 PM