nombre debería ser por getordinalday . el siguiente método abstracto es todate (líneas 838-844). convierte daydate en java.util.date . ¿por qué es abstracto? si analizamos su implementación en spreadsheetdate (líneas 198-207 del listado b-5), vemos que no depende de la implementación de esa clase [g6]. por tanto, lo desplazo hacia arriba. los métodos getyyyy , getmonth y getdayofmonth son evidentemente abstractos. sin embargo, getdayofweek debería ascender desde spreadsheetdate ya que no depende de nada de lo que encontremos en daydate [g6]. ¿o sí? si se fija atentamente (línea 247 del listado b-5), verá que el algoritmo depende implícitamente del origen del día ordinal (es decir, el día de la semana del día 0). por ello, aunque esta función carezca de dependencias físicas que no se puedan cambiar a daydate , cuenta con una dependencia lógica. este tipo de dependencias lógicas me molestan [g22]. si algo lógico depende de la implementación, también debería haber algo físico. además, me parece que el propio algoritmo podría ser genérico y que debería depender en menor medida de la implementación [g6]. por tanto, creé un método abstracto en daydate con el nombre getdayofweekforordinalzero y lo implementé en spreadsheetdate para devolver day.saturday . tras ello, envié el método getdayofweek a daydate y lo cambié para que invocara getordinalday y getdayofweekforordinalzero . public day getdayofweek() { day startingday = getdayofweekforordinalzero(); int startingoffset = startingday.index - day.sunday.index; return day.make((getordinalday() + startingoffset) % 7 + 1); } fíjese en el comentario de las líneas 895-899. ¿necesitamos realmente esta repetición? como de costumbre, eliminé este comentario junto a los demás. el siguiente método es compare (líneas 902-913). de nuevo, es incorrectamente abstracto [g6], por lo que cambio la implementación a daydate . además, el nombre no es descriptivo [n1]. en realidad, este método devuelve la diferencia en días desde el argumento, por lo que cambié el nombre por dayssince . tampoco existían pruebas para este método, de 355