450 PARTE TRES  ADMINISTRACIÓN DE LA CALIDAD El enfoque de prueba de partición de clase múltiple es similar al que se usó para la prueba de  partición de clases individuales. Una sola clase se divide, como se estudió en la sección 19.5.2.  Sin embargo, la secuencia de prueba se expande para incluir aquellas operaciones que se invo-can mediante mensajes a clases que colaboran. Un enfoque alternativo divide las pruebas con base en las interfaces en una clase particular. En la figura 19.2, la clase Bank recibe mensajes de las clases ATM  y Cashier. Por tanto, los métodos dentro de Bank pueden probarse al divi- dirlos en los que sirven a ATM  y los que sirven a Cashier. La partición con base en estado  (sección 19.5.2) puede usarse para refinar aún más las particiones. 19.6.2  Pruebas derivadas a partir de modelos de comportamiento El uso del diagrama de estado como modelo que representa el comportamiento dinámico de una clase se analiza en el capítulo 7. El diagrama de estado para una clase puede usarse a fin de ayudar a derivar una secuencia de pruebas que ejercitarán el comportamiento dinámico de la clase (y de aquellas clases que colaboran con ella). La figura 19.3 [Kir94] ilustra un diagrama de estado para la clase Account estudiada anteriormente. En la figura, las transiciones iniciales se mueven a través de los estados empty acct (cuenta vacía) y setup acct (configuración de  cuenta). La mayoría de los comportamientos para instancias de la clase ocurren mientras está en el estado working acct  (cuenta operativa). Un retiro final y un cierre de cuenta harán que la  clase Account realice transiciones hacia los estados nonworking acct (cuenta no operativa) y  dead acct (cuenta muerta), respectivamente. Las pruebas que se van a diseñar deben lograr cobertura de todos los estados, es decir, las  secuencias de operación deben hacer que la clase Account realice transiciones a través de to- dos los estados permisibles: Caso de prueba s1: opensetupAccntdeposit (initial)withdraw (final)close Debe observarse que esta secuencia es idéntica a la de prueba mínima que se estudió en la  sección 19.5.2. Al agregar secuencias de prueba adicionales a la secuencia mínima, Caso de prueba s2: opensetupAccntdeposit(initial)depositbalance creditwithdraw (final)close Caso de prueba s3: opensetupAccntdeposit(initial)depositwithdrawaccntInfowithdraw (final)close Es necesario derivar todavía más casos de prueba para garantizar que todos los comporta- mientos para la clase se ejercitaron adecuadamente. En situaciones en las que el compor-OpenEmpty acctSet up acct Working acct Nonworking acctDead acctSetup Accnt Deposit (inicial) Balance credit accntInfoDeposit Withdraw Withdrawal (ﬁnal) CloseFIGURA 19.3 Diagrama de  estado para la clase AccountFuente: Adaptado de [Kir94]. 19Pressman(437-452).indd   45019Pressman(437-452).indd   450 21/1/10   10:58:3621/1/10   10:58:36