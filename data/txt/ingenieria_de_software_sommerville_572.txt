20.3 ■ análisis de temporización 555 sistema de tiempo real duro, se trata de una falla de sistema; en un sistema de tiempo real blando, el resultado es un servicio de sistema degradado. 2. frecuencia el número de veces por segundo que debe ejecutarse un proceso para tener la seguridad de que siempre puede cumplir los plazos. 3. tiempo de ejecución el tiempo requerido para procesar un estímulo y producir una respuesta. con frecuencia se deben tomar en cuenta dos tiempos de ejecución: el tiempo de ejecución promedio de un proceso y el tiempo de ejecución del peor escenario para dicho proceso. no siempre el tiempo de ejecución es el mismo, debido a la ejecución condicional del código, demoras en espera de otros procesos, etcétera. en un sistema de tiempo real duro, tal vez deba hacer suposiciones con base en el tiempo de ejecución del peor escenario para asegurarse de que no venzan los plazos. en los sistemas de tiempo real blandos, quizá deba basar sus cálculos en el tiempo de ejecución promedio. para continuar con el ejemplo de una falla en el suministro de energía, suponga que, después de un evento de falla, transcurren 50 ms para que el voltaje suministrado caiga a un nivel en que pueda dañarse el equipo. por lo tanto, el proceso de apagado del equipo debe comenzar en menos de 50 ms luego de un evento de falla de energía. ante tales casos, sería prudente establecer un plazo más corto de 40 ms, debido a las variaciones físicas en el equipo. esto significa que las instrucciones de apagado para todo el equipo conectado que esté en riesgo deben emitirse y procesarse dentro de 40 ms, suponiendo que el equipo tam-bién depende de la falla del suministro de energía. si usted detecta una falla de energía al monitorizar un nivel de voltaje, debe hacer más de una observación para detectar que cae el voltaje. si usted ejecuta el proceso 250 veces por segundo, esto significa que ejecuta cada 4 ms y pueden requerirse hasta dos periodos para detectar la caída de voltaje. por consiguiente, tarda hasta 8 ms detectar el problema. en con-secuencia, el tiempo de ejecución del peor escenario del proceso de apagado no debe superar los 16 ms para garantizar que se cumpla el plazo de 40 ms. esta cifra se calcula restando los periodos de proceso (8 ms) del plazo (40 ms) y dividiendo el resultado entre dos, puesto que se necesitan dos ejecuciones de proceso. en realidad, por lo general uno se inclinaría hacia un lapso considerablemente menor que 16 ms para dar un margen de seguridad en caso de que los cálculos estuvieran equi-vocados. de hecho, el tiempo requerido para examinar un sensor y comprobar que no hay pérdida significativa de voltaje debe ser mucho menor que 16 ms. esto sólo implica una comparación simple de dos valores. el tiempo de ejecución promedio del proceso del monitor eléctrico debe ser menor que 1 ms. el punto de partida del análisis de temporización en un sistema de tiempo real lo constituyen los requerimientos de temporización, que deben establecer los plazos para cada respuesta requerida en el sistema. la figura 20.15 muestra posibles requerimientos de temporización para el sistema de alarma antirrobo del edificio de oficinas que se estu-dió en la sección 20.2.1. para simplificar este ejemplo, ignore los estímulos generados por los procedimientos de prueba del sistema y las señales externas para restablecer el sistema en caso de una falsa alarma. esto significa que hay sólo dos tipos de estímulo a procesar por parte del sistema: 1. falla de energía ésta se detecta al observar una caída de voltaje de más del 20 por ciento. la respuesta requerida es encender el circuito de energía de respaldo enviando una señal a un dispositivo electrónico de conmutación de energía, que cambia la electricidad principal a batería de respaldo. m20_sommerville_ingenieria_1ed_se_537-564.indd  555m20_sommerville_ingenieria_1ed_se_537-564.indd  555 3/18/11  5:05:50 pm3/18/11  5:05:50 pm