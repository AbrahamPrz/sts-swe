448 PARTE TRES  ADMINISTRACIÓN DE LA CALIDAD 19.5.2  Prueba de partición en el nivel de clase La prueba de partición reduce el número de casos de prueba requeridos para ejercitar la clase,  en una forma muy similar a la partición de equivalencia (capítulo 18) para el software tradicio- nal. Las entradas y salidas se categorizan y los casos de prueba se diseñan para ejercitar cada categoría. ¿Pero cómo se derivan las categorías de partición? La partición con base en estado categoriza las operaciones de clase a partir de su capacidad  para cambiar el estado de la clase. Considere de nuevo la clase Account, las operaciones de estado incluyen deposit( ) y withdraw( ), mientras que las operaciones de no estado incluyen balance( ), sumaries( ) y creditLimit( ). Las pruebas se diseñan para que ejerciten por separado las  operaciones que cambian el estado y aquellas que no lo cambian. En consecuencia, Caso de prueba p1: opensetupdepositdepositwithdrawwithdrawclose Caso de prueba p2: opensetupdepositsummarizecreditLimitwithdrawclose El caso de prueba p1 cambia el estado, mientras que el p2 ejercita las operaciones que no  cambian el estado (distintas a las que están en la secuencia de prueba mínima). La partición con base en atributo categoriza las operaciones de clase con base en los atributos  que usan. Para la clase Account, los atributos balance y creditLimit pueden usarse para definir  particiones. Las operaciones se dividen en tres particiones: 1) operaciones que usan creditLimit,  2) operaciones que modifican creditLimit y 3) operaciones que no usan ni modifican creditLimit.  Entonces se diseñan secuencias de prueba para cada partición. La partición basada en categoría jerarquiza las operaciones de clase con base en la función  genérica que cada una realiza. Por ejemplo, las operaciones en la clase Account pueden cate- gorizarse en operaciones de inicialización ( open, setup), de cálculo (deposit, withdraw), consultas  (balance, summarize, creditLimit) y de terminación (close).  19.6 D ISEÑO  DE CASOS  DE PRUEBA  INTERCLASE El diseño de casos de prueba se vuelve más complicado conforme comienza la integración del sistema orientado a objetos. En esta etapa debe comenzar la prueba de las colaboraciones entre clases. Para ilustrar “la generación de casos de prueba interclase” [Kir94], se expande el ejemplo bancario presentado en la sección 19.5 a fin de incluir las clases y colaboraciones anotadas en la figura 19.2. La dirección de las flechas en la figura indica la dirección de los mensajes y las etiquetas indican las operaciones que se involucran como consecuencia de las colaboraciones que implican los mensajes.#1: enable•test•read•disable Jamie: Eso funcionará, ¡pero tienes que hacer más pruebas que  eso! Shakira: Ya sé, ya sé, aquí hay otras secuencias que encontré.  [Muestra a Jamie las siguientes secuencias]. #2: enable•test*[read]n•test•disable #3: [read]n #4: enable*disable•[test | read] Jamie: Déjame ver si entiendo la intención de éstos. El número 1  pasa a través de una historia de vida normal, una especie de uso convencional. El número 2 repite la operación leer n veces, y ése es un escenario probable. El número 3 intenta leer el sensor antes de que esté habilitado... eso produciría un mensaje de error de algún tipo, ¿cierto? El número 4 habilita y deshabilita el sensor y luego intenta leerlo. ¿No es lo mismo que la prueba 2? Shakira: En realidad, no. En el número 4, el sensor se habilitó. Lo  que realmente prueba el número 4 es si la operación deshabilitar funciona como debe. Un read( ) o test( ) después de disable( ) gene- raría el mensaje de error. Si no lo hace, entonces hay un error en la operación deshabilitar. Jamie: Bien. Sólo recuerda que las cuatro pruebas tienen que apli- carse para cada tipo de sensor, pues todas las operaciones pueden tener diferencias sutiles dependiendo del tipo de sensor. Shakira: No hay que preocuparse. Ése es el plan. ¿Qué opciones de  prueba están disponibles en el nivel de clase?? 19Pressman(437-452).indd   44819Pressman(437-452).indd   448 21/1/10   10:58:3521/1/10   10:58:35