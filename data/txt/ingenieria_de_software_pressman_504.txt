capítulo 20 prueba de aplicaciones web 473 en todo caso, dichas variables se definen dentro de fronteras operativas normales del sistema. conforme se aplica cada condición de prueba, se recopila una o más de las siguientes medidas: respuesta de usuario promedio, tiempo promedio para descargar una unidad estandarizada de datos y tiempo promedio para procesar una transacción. estas medidas deben examinarse para determinar si una disminución abrupta en el rendimiento puede rastrearse en una combinación específica de n, t y d. la prueba de carga también puede usarse para valorar las velocidades de conexión recomen- dadas para los usuarios de la webapp. el rendimiento global, p, se calcula de la forma si-guiente: p /h11005 n /h11003 t /h11003 d tome como ejemplo un sitio popular de noticias deportivas. en un momento dado, 20 000 usua-rios concurrentes envían una solicitud (una transacción, t) una vez cada 2 minutos en prome- dio. cada transacción requiere que la webapp descargue un nuevo artículo que promedia 3 kb de longitud. por tanto, el rendimiento global puede calcularse como: p /h11005 [20 000 /h11003 0.5 /h11003 3kb]/60 /h11005 500 kbytes/s /h11005 4 megabits por segundo por ende, la conexión de la red para el servidor tendría que soportar esta tasa de datos y debería ponerse a prueba para asegurarse de que lo hace. 20.9.3 prueba de esfuerzo la prueba de esfuerzo es una continuación de la prueba de carga, pero en esta instancia las va-riables n, t y d se fuerzan a satisfacerse y luego se superan los límites operativos. la intención de estas pruebas es responder a cada una de las siguientes preguntas: • ¿el sistema se degrada “suavemente” o el servidor se apaga conforme la capacidad se supera? • ¿el software servidor genera mensajes “servidor no disponible”? de manera más general, ¿los usuarios están conscientes de que no pueden llegar al servidor? • ¿el servidor pone en cola los recursos solicitados y vacía la cola una vez que disminuye la demanda de capacidad? • ¿las transacciones se pierden conforme la capacidad se excede? • ¿la integridad de los datos resulta afectada conforme la capacidad se excede? • ¿qué valores de n, t y d fuerzan el fallo del entorno servidor? ¿cómo se manifiesta la falla? ¿se envían notificaciones automáticas al personal de apoyo técnico en el sitio servidor? • si el sistema falla, ¿cuánto tiempo tardará en regresar en línea? • ¿ciertas funciones de la webapp (por ejemplo, funcionalidad de cálculo intenso, capaci- dades de transmisión de datos) quedan descontinuadas conforme la capacidad alcanza el nivel de 80 o 90 por ciento? a una variación de las pruebas de esfuerzo en ocasiones se le conoce como prueba pico/re- bote ( spike/bounce) [spl01]. en este régimen de pruebas, la carga alcanza un pico de capacidad, luego se baja rápidamente a condiciones operativas normales y después alcanza de nuevo un pico. al rebotar la carga del sistema, es posible determinar cuán bien el servidor puede ordenar los recursos para satisfacer una demanda muy alta y entonces liberarlos cuando reaparecen condiciones normales (de modo que esté listo para el siguiente pico).si una webapp usa múltiples servidores para proporcionar una capacidad significativa, la prueba de carga debe realizarse en un entorno multiservidor.consejo punto clave el objetivo de la prueba de esfuerzo es comprender de mejor manera como falla un sistema a medida que es forzado más allá de sus límites operacionales. 20pressman(453-477).indd  47320pressman(453-477).indd  473 21/1/10  10:58:1221/1/10  10:58:12