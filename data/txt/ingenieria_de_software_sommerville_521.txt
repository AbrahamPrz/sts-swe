504  Capítulo 18 ■ Ingeniería de software distribuido  La figura 18.16 ilustra esta situación. Este diagrama muestra cinco usuarios del servicio  de aplicación, quienes trabajan para tres clientes diferentes del proveedor del servicio. Los usuarios interactúan con los servicios mediante un perfil de cliente que define la configura-ción del servicio para su empleador. La multitenencia es una situación en la que muchos usuarios diferentes acceden al mismo sistema y la arquitectura del sistema se define para permitir que el hecho de com-partir los recursos del sistema sea eficiente. Sin embargo, debe parecer a cada usuario que él tiene el uso exclusivo del sistema. La multitenencia implica diseñar el sistema de modo que exista una separación absoluta entre la funcionalidad y los datos del sis-tema. Por lo tanto, se debe diseñar el sistema de manera que todas las operaciones sean sin estados. Los datos deben proporcionarse por parte del cliente o estar disponibles en un sistema de almacenamiento o base de datos al que pueda accederse desde cualquier instancia del sistema. Las bases de datos relacionales no son ideales para proporcionar multitenencia, y los grandes proveedores de servicio, tales como Google, implementaron bases de datos más simples para datos de usuarios. Un problema particular en los sistemas multitenencia es la gestión de datos. La forma más sencilla de proporcionar gestión de datos es que cada cliente tenga su propia base de datos, la cual pueden usar y configurar como desee. Sin embargo, esto requiere que el proveedor del servicio conserve numerosas instancias de base de datos diferentes (una por cliente) y las ponga a disposición de la demanda. Esto es ineficiente en términos de capacidad de servidor y aumenta el costo global del servicio. Como alternativa, el proveedor del servicio puede usar una sola base de datos en la que diferentes usuarios estén prácticamente aislados dentro de dicha base de datos. Esto se ilustra en la figura 18.17, donde se observa que las entradas de la base de datos tienen tam-bién un “identificador de tenencia”, que vincula dichas entradas a usuarios específicos. Al usar vistas de base de datos, es posible extraer las entradas para cada cliente del servicio y así presentar a los usuarios de dicho cliente una base de datos personal virtual. Esto puede extenderse para cubrir las necesidades específicas del cliente usando las caracterís-ticas de configuración discutidas anteriormente. La escalabilidad es la capacidad del sistema de hacer frente a un número creciente de usuarios sin reducir la QoS global que se entrega a cualquier usuario. Por lo gene-ral, cuando se considera la escalabilidad en el contexto de SaaS, se toma en cuenta la “ampliación”, en lugar de la “expansión”. Recuerde que “ampliación” significa agregar servidores adicionales para así incrementar el número de transacciones que pueden pro-cesarse en paralelo. La escalabilidad es un tema complejo que aquí no puede tratarse con detalle, pero algunos lineamientos generales para implementar software escalable son: 1. Desarrolle aplicaciones en las que cada componente se implemente como un simple  servicio sin estado que pueda ejecutarse en cualquier servidor. Por consiguiente, Tenencia Clave Nombre Dirección 234 C100 XYZ Corp 43, Anystreet, Sometown 234 C110 BigCorp 2, Main St, Motown435 X234 J. Bowie   56, Mill St, Starville592 PP37 R. Burns Alloway, Ayrshire Figura 18.17 Base  de datos multitenencia M18_SOMMERVILLE_INGENIERIA_1ED_SE_479-507.indd   504M18_SOMMERVILLE_INGENIERIA_1ED_SE_479-507.indd   504 3/18/11   5:03:56 PM3/18/11   5:03:56 PM