416  Capítulo 15 ■ Garantía de confiabilidad y seguridad insegura no puede ser verdadera. Si es posible hacer esto, podemos estar seguros de que  el programa no calculará una dosis inadecuada de insulina. En la figura 15.11 se estruc-turan y presentan gráficamente los argumentos de protección. Para elaborar un argumento estructurado de un programa que no efectúa un cálculo inseguro, primero identifique todas las posibles rutas a lo largo del código que podrían conducir al estado potencialmente no protegido. Trabaje hacia atrás a partir de ese estado no protegido y considere la última asignación a todas las variables de estado en cada ruta que conduzca a dicho estado no protegido. Si es posible probar que ninguno de los valo-res de esas variables es inseguro, entonces se demostrará que la suposición inicial (de que el cálculo es inseguro) es incorrecta. Trabajar hacia atrás es importante porque significa que usted puede ignorar todos los estados, además de los estados finales, que conduzcan a la condición de salida para el código. Los valores anteriores no son importantes para la protección del sistema. En este ejemplo, sólo necesita preocuparse por el conjunto de posibles valores de currentDose currentDose = 0 currentDose = 0 Ejecución enunciado if 2 Rama ThencurrentDose = maxDose currentDose = maxDose Ejecución enunciado if 2 Rama ElseEnunciado if 2 no ejecutadocurrentDose >= minimumDose y currentDose <= maxDoseocurrentDose> maxDose AdministerInsulin Contradicción Contradicción ContradicciónPrecondición de estado inseguroSobredosis administrada Asignar Asignar Figura 15.11  Argumentos de protección informales basados en contradicciones de demostración M15_SOMMERVILLE_INGENIERIA_1ED_SE_393-422.indd   416M15_SOMMERVILLE_INGENIERIA_1ED_SE_393-422.indd   416 3/18/11   5:01:20 PM3/18/11   5:01:20 PM