capítulo 21 modelado y verificación formal 481 en algún nivel de detalle. a través de un proceso de elaboración o refinamiento por pasos, las cajas se refinan en una jerarquía donde cada caja tiene transparencia referencial. es decir: “la información contenida en cada especificación de caja es suficiente para definir su refinamiento, sin depender de la implementación de alguna otra caja” [lin94b]. esto permite al analista dividir un sistema jerárquicamente y avanzar de la representación esencial en la parte superior al de-talle específico de la implementación en el fondo. para ello, se usan tres tipos de cajas: caja negra. la caja negra especifica el comportamiento de un sistema o de una parte de un sistema. el sistema (o su parte) responde a estímulos específicos (eventos) al aplicar un conjunto de reglas de transición que mapean el estímulo en una respuesta. caja de estado. la caja de estado encapsula los datos y servicios (operaciones) de es- tado en una forma análoga a los objetos. en esta visión de especificación, se representan las entradas (estímulos) y salidas (respuestas) a la caja de estado. la caja de estado tam-bién representa la “historia de estímulos” de la caja negra, es decir, los datos encapsulados en la caja de estado que deben conservarse entre las transiciones implicadas. caja clara. las funciones de transición que se implican mediante la caja de estado se de- finen en la caja clara. dicho de manera simple, una caja clara contiene el diseño de proce-dimientos para la caja de estado. la figura 21.2 ilustra el enfoque de refinamiento, usando la especificación de estructura de cajas. una caja negra (bb 1) define las respuestas a un conjunto completo de estímulos. bb1 puede refinarse en un conjunto de cajas negras, bb1.1 a bb1.n, cada una de las cuales enfoca una clase de comportamiento. el refinamiento continúa hasta que se identifica una clase cohesi- va de comportamiento (por ejemplo, bb1.1.1). entonces se define una caja de estado (sb1.1.1) para la caja negra (bb1.1.1). en este caso, sb1.1.1 contiene todos los datos y servicios requeridos para implementar el comportamiento definido por bb1.1.1. finalmente, sb1.1.1 se refina en cajas claras (cb1.1.1.n) y se especifican los detalles del diseño de procedimientos. conforme ocurre cada uno de estos pasos de refinamiento, también se presenta la verifica- ción de la exactitud. las especificaciones de caja de estado se verifican para asegurar que cada una se conforma de acuerdo con el comportamiento definido por la especificación de la caja ne-gra padre. de igual modo, las especificaciones de caja clara se verifican contra la caja de estado padre. bb1cb1.1.1.1 cb1.1.1.2 cb1.1.1.3sb1.1.1bb1.1.1 bb1.1.2 bb1.1.3bb1.1 bb1.2 bb1.nfigura 21.2 refinamiento de estructura de cajascita: “hay algo divertido en la vida: si rechazas aceptar todo menos lo mejor, con mucha frecuencia lo conseguirás.” w. somerset maugham ¿cómo se logra el refinamiento como parte de una especificación de estructura de caja?? punto clave el refinamiento de estructura de cajas y la verificación de exactitud ocurren simultáneamente. 21pressman(478-500).indd  48121pressman(478-500).indd  481 19/1/10  12:43:2319/1/10  12:43:23