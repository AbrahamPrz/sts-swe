3.3 ■ Programación extrema  69  3.3.1 Pruebas en XP Como se indicó en la introducción de este capítulo, una de las diferencias importantes  entre desarrollo incremental y desarrollo dirigido por un plan está en la forma en que el sistema se pone a prueba. Con el desarrollo incremental, no hay especificación de sis-tema que pueda usar un equipo de prueba externo para desarrollar pruebas del sistema. En consecuencia, algunos enfoques del desarrollo incremental tienen un proceso de prue-bas muy informal, comparado con las pruebas dirigidas por un plan. Para evitar varios de los problemas de prueba y validación del sistema, XP enfatiza la importancia de la prueba de programa. La XP incluye un enfoque para probar que reduce las posibilidades de introducir errores no detectados en la versión actual del sistema. Las características clave de poner a prueba en XP son: 1. Desarrollo de primera prueba, 2. desarrollo de pruebas incrementales a partir de escenarios,3. involucramiento del usuario en el desarrollo y la validación de pruebas, y4. el uso de marcos de pruebas automatizadas.  El desarrollo de la primera prueba es una de las innovaciones más importantes en  XP. En lugar de escribir algún código y luego las pruebas para dicho código, las pruebas se elaboran antes de escribir el código. Esto significa que la prueba puede correrse con-forme se escribe el código y descubrir problemas durante el desarrollo.  Escribir pruebas implícitamente define tanto una interfaz como una especificación del comportamiento para la funcionalidad a desarrollar. Se reducen los problemas de la mala interpretación de los requerimientos y la interfaz. Este enfoque puede adoptarse en cualquier proceso donde haya una relación clara entre un requerimiento de sistema y el código que implementa dicho requerimiento. En la XP, siempre se observa este vínculo porque las tarjetas de historia que representan los requerimientos se descomponen en tareas, y éstas son la principal unidad de implementación. La adopción del desarrollo de primera prueba en XP condujo a enfoques de desarrollo basados en pruebas más genera-les (Astels, 2003). Éstas se estudian en el capítulo 8. En el desarrollo de primera prueba, los implementadores de tarea deben comprender ampliamente la especificación, de modo que sean capaces de escribir pruebas para el sistema. Esto significa que las ambigüedades y omisiones en la especificación deben clarificarse antes de comenzar la implementación. Más aún, también evita el problema del “retraso en la prueba”. Esto puede ocurrir cuando el desarrollador del sistema trabaja a un ritmo más rápido que el examinador. La implementación está cada vez más adelan-te de las pruebas y hay una tendencia a omitirlas, de modo que se mantenga la fecha de desarrollo. Los requerimientos de usuario en XP se expresan como escenarios o historias, y el usua-rio los prioriza para su desarrollo. El equipo de desarrollo valora cada escenario y lo des-compone en tareas. Por ejemplo, en la figura 3.6 se muestran algunas de las tarjetas de tarea desarrolladas a partir de la tarjeta de historia para la prescripción de medicamentos (figura 3.5). Cada tarea genera una o más pruebas de unidad, que verifican la implementación descrita en dicha tarea. La figura 3.7 es una descripción breve de un caso de prueba que se desarrolló para comprobar que la dosis prescrita de un medicamento no se halle fuera de los límites de seguridad conocidos. M03_SOMMERVILLE_INGENIERIA_1ED_SE_056-081.indd   69M03_SOMMERVILLE_INGENIERIA_1ED_SE_056-081.indd   69 3/18/11   4:46:25 PM3/18/11   4:46:25 PM