145 * @param relative determina “qué” día de la semana se selecciona con esta 146 * regla. 147 */ 148 public void setRelative(final int relative) { 149 this.relative = relative; 150 } 151 152 /** 153 * Crea un clon de esta regla. 154 * 155 * @return un clon de esta regla. 156 * 157 * @throws CloneNotSupportedException nunca debe producirse. 158 */ 159 public Object clone() throws CloneNotSupportedException { 160 final RelativeDayOfWeekRule duplicate 161 = (RelativeDayOfWeekRule) super.clone(); 162 duplicate.subrule = (AnnualDateRule) duplicate.getSubrule().clone(); 163 return duplicate; 164 } 165 166 /** 167 * Devuelve la fecha generada por esta regla, para el año especificado. 168 * 169 * @param year el año (1900 &lt;= year &lt;= 9999). 170 * 171 * @return La fecha generada por esta regla para un año concreto (posiblemente 172 * <code>null</code>). 173 */ 174 public SerialDate getDate(final int year) { 175 176 // comprobar argumento… 177 if ((year < SerialDate.MINIMUM_YEAR_SUPPORTED) 178 || (year > SerialDate.MAXIMUM_YEAR_SUPPORTED)) { 179 throw new IllegalArgumentException( 180 “RelativeDayOfWeekRule.getDate(): year outside valid range.”); 181 } 182 183 // calcular la fecha… 184 SerialDate result = null; 185 final SerialDate base = this.subrule.getDate(year); 186 187 if (base != null) { 188 switch (this.relative) { 500