private boolean isbooleanarg(char argchar) { argumentmarshaler m = marshalers.get(argchar); return m instanceof booleanargumentmarshaler; } las pruebas funcionaban, por lo que apliqué el mismo cambio en isintarg e isstringarg . private boolean isintarg(char argchar) { argumentmarshaler m = marshalers.get(argchar); return m instanceof integerargumentmarshaler; } private boolean isstringarg(char argchar) { argumentmarshaler m = marshalers.get(argchar); return m instanceof stringargumentmarshaler; } las pruebas eran correctas, por lo que eliminé las invocaciones duplicadas de marshalers.get : private boolean setargument(char argchar) throws argsexception { argumentmarshaler m = marshalers.get(argchar); if (isbooleanarg( m )) setbooleanarg(argchar); else if (isstringarg( m )) setstringarg(argchar); else if (isintarg( m )) setintarg(argchar); else return false; return true; } private boolean isintarg ( argumentmarshaler m ) { return m instanceof integerargumentmarshaler; } private boolean isstringarg ( argumentmarshaler m ) { return m instanceof stringargumentmarshaler; } private boolean isbooleanarg ( argumentmarshaler m ) { return m instanceof booleanargumentmarshaler; } los tres argumentos isxxxarg ya no tenían sentido, de modo que los reubiqué: private boolean setargument(char argchar) throws argsexception { argumentmarshaler m = marshalers.get(argchar); if ( m instanceof booleanargumentmarshaler ) setbooleanarg(argchar); 287