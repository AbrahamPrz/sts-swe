private boolean isBooleanArg(char argChar) { ArgumentMarshaler m = marshalers.get(argChar); return m instanceof BooleanArgumentMarshaler; } Las pruebas funcionaban, por lo que apliqué el mismo cambio en isIntArg  e  isStringArg . private boolean isIntArg(char argChar) { ArgumentMarshaler m = marshalers.get(argChar); return m instanceof IntegerArgumentMarshaler; } private boolean isStringArg(char argChar) { ArgumentMarshaler m = marshalers.get(argChar); return m instanceof StringArgumentMarshaler; } Las pruebas eran correctas, por lo que eliminé las invocaciones duplicadas de  marshalers.get : private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if (isBooleanArg( m )) setBooleanArg(argChar); else if (isStringArg( m )) setStringArg(argChar); else if (isIntArg( m )) setIntArg(argChar); else return false; return true; } private boolean isIntArg ( ArgumentMarshaler m ) { return m instanceof IntegerArgumentMarshaler; } private boolean isStringArg ( ArgumentMarshaler m ) { return m instanceof StringArgumentMarshaler; } private boolean isBooleanArg ( ArgumentMarshaler m ) { return m instanceof BooleanArgumentMarshaler; } Los tres argumentos  isxxxArg  ya no tenían sentido, de modo que los reubiqué: private boolean setArgument(char argChar) throws ArgsException { ArgumentMarshaler m = marshalers.get(argChar); if ( m instanceof BooleanArgumentMarshaler ) setBooleanArg(argChar); 287