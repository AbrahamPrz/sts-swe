public string errormessage() throws exception { if (unexpectedarguments.size() > 0) { return unexpectedargumentmessage(); } else switch (errorcode) { case missing_string: return string.format (“could not find string parameter for -%c.”, errorargument); case ok: throw new exception(“tilt: should not get here.”); } return “”; } private string unexpectedargumentmessage() { stringbuffer message = new stringbuffer(“argument(s) -”); for (char c : unexpectedarguments) { message.append(c); } message.append(“ unexpected.”); return message.tostring(); } public boolean getboolean(char arg) { return falseifnull(booleanargs.get(arg)); } private boolean falseifnull(boolean b) { return b == null ? false : b; } public string getstring(char arg) { return blankifnull(stringargs.get(arg)); } private string blankifnull(string s) { return s == null ? “” : s; } public boolean has(char arg) { return argsfound.contains(arg); } public boolean isvalid() { return valid; } } comprobará que empieza a desbocarse. no es terrible pero el desastre se está gestando. basta con incluir el tipo de argumento integer para que resulte fatídico. 275