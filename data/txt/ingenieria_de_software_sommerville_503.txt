486  Capítulo 18 ■ Ingeniería de software distribuido el camarero tiene una sola interacción con la cocina, donde el mensaje define la orden  completa. La comunicación procedimental en un sistema distribuido se implementa con frecuen-cia usando solicitudes de procedimiento remoto (RPC, por las siglas de Remote Procedure Calls). En RPC, un componente solicita otro componente como si fuera un procedimiento o método local. El middleware en el sistema intercepta esta solicitud y la transmite a un componente remoto. Éste realiza la computación requerida y, por medio del middleware, regresa el resultado al componente solicitante. En Java, las solicitudes de método remoto (RMI, por las siglas de Remote Method Invocations) son comparables con RPC, aunque no idénticas. El framework RMI maneja la petición de métodos remotos en un programa Java. RPC requiere un “stub” (talonario) para que el procedimiento solicitado sea accesible en la computadora que inicia la solicitud. Se solicita el stub y éste traduce los paráme-tros del procedimiento en una representación estándar para transmisión al procedimiento remoto. A través del middleware, envía entonces la petición de ejecución al procedi-miento remoto. Éste usa funciones de librería para convertir los parámetros en el formato requerido, realiza los cálculos y luego comunica los resultados requeridos vía el “stub” que representa al que solicita. La interacción basada en mensajes implica normalmente un componente que crea un mensaje, el cual detalla los servicios requeridos por otro componente. Mediante el sistema middleware, éste se envía al componente de recepción. El receptor analiza el men-saje, efectúa los cálculos y diseña un mensaje para el componente emisor con los resulta-dos requeridos. Entonces esto se transmite al middleware para que, a la vez, lo transmita al componente emisor. Un problema con el enfoque RPC de interacción es que tanto el solicitante como el solicitado tienen que estar disponibles al momento de la comunicación, y deben saber cómo se refieren el uno al otro. En esencia, una RPC tiene los mismos requerimientos que una solicitud de procedimiento o método local. En contraste, en un enfoque basado en mensajes, puede tolerarse la indisponibilidad, pues el mensaje simplemente perma-nece en una cola hasta que el receptor esté disponible. Más aún, no es necesario que emisario y receptor estén al tanto uno del otro. Ellos simplemente se comunican con el middleware, que es el responsable de garantizar que los mensajes se transmitan al sistema adecuado.<starter>  <dish name = “soup” type = “tomato” />  <dish name = “soup” type = “fish” /> <dish name = “pigeon salad” /></starter><main course> <dish name = “steak” type = “sirloin” cooking = “medium” /> <dish name = “steak” type = “fillet” cooking = “rare” /> <dish name = “sea bass”></main><accompaniment> <dish name = “french fries” portions = “2” /> <dish name = “salad” portions = “1” /></accompaniment>   Figura 18.2 Interacción basada en mensajes entre un camarero y el personal de cocina M18_SOMMERVILLE_INGENIERIA_1ED_SE_479-507.indd   486M18_SOMMERVILLE_INGENIERIA_1ED_SE_479-507.indd   486 3/18/11   5:03:55 PM3/18/11   5:03:55 PM