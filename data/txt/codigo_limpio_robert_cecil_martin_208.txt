separar main una forma de separar la construcción del uso consiste en trasladar todos los aspectos de la construcción a main o a módulos invocados por main , y diseñar el resto del sistema suponiendo que todos los objetos se han creado y conectado correctamente (véase la figura 11.1). el flujo de control es fácil de seguir. la función main crea los objetos necesarios para el sistema, los pasa a la aplicación y ésta los utiliza. verá que las flechas de dependencia atraviesan la barrera entre main y la aplicación. todas van en la misma dirección, alejándose de main , lo que significa que la aplicación no tiene conocimiento de main ni del proceso de construcción. simplemente espera que todo se haya construido correctamente. figura 11.1. separación de la construcción en main() . factorías en ocasiones, la aplicación tendrá que ser responsable de la creación de un objeto. por ejemplo, en un sistema de procesamiento de pedidos, la aplicación debe crear las instancias lineitem que añadir a order . en este caso, podemos usar el patrón de factoría abstracta [51] para que la aplicación controle cuándo crear lineitem , pero mantener los detalles de dicha construcción separados del código de la aplicación (véase la figura 11.2). 209