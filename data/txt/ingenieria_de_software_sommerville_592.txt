21.2 ■ Aspectos, puntos de enlace y puntos de corte  575 2. Los consejos pueden incluirse después de un regreso normal o excepcional de un  método. En el ejemplo que se muestra en la figura 21.5, se podría definir un punto de corte que ejecute el código logging después de todas las llamadas a métodos update. 3. Los consejos pueden incluirse cuando se modifica un archivo en un objeto; se podrían incluir consejos para monitorizar o cambiar ese archivo.  La inclusión de consejos en los puntos de enlace especificados en los puntos de corte es responsabilidad de un tejedor de aspectos. Los tejedores de aspectos son extensiones de compiladores que procesan la definición de los aspectos y las clases de objetos y métodos que definen el sistema. El tejedor genera un nuevo programa con los aspectos incluidos en los puntos de enlace especificados. Los aspectos se integran de forma que las competencias transversales se ejecuten en los lugares correctos del sistema final. La figura 21.6 ilustra este tejido de aspectos para los aspectos authentication y logging que deben incluirse en el MHC-PMS. Hay tres enfoques diferentes al tejido de aspectos: 1. Preprocesamiento de código fuente, en el que un tejedor toma entrada de código  fuente y genera nuevo código fuente en un lenguaje como Java o C++, que luego pueden compilarse usando el compilador de lenguaje estándar. Este enfoque se adoptó para el lenguaje AspectX con su asociado XWeaver (Birrer et al., 2005). 2. Tejido de tiempo de vinculación, en el que el compilador se modifica para incluir un tejedor de aspectos. Un lenguaje orientado a aspectos, como AspectJ, se pro-cesa y genera bytecode Java estándar. Entonces éste puede ejecutarse directamente mediante un intérprete Java o procesarse aún más para generar código de máquina nativo. 3. Tejido dinámico en tiempo de ejecución. En este caso, se monitorizan los puntos de enlace y, cuando ocurre un evento referenciado en un punto de corte, se integra el consejo correspondiente con el programa en ejecución.  El enfoque usado más comúnmente para el tejido de aspectos es el tejido de tiempo de vinculación, pues esto permite la implementación eficiente de los aspectos sin una gran carga de tiempo de ejecución. El tejido dinámico es el enfoque más flexible, pero puede incurrir en significativas penalizaciones de rendimiento durante la ejecución del programa. Actualmente el preprocesamiento de código fuente se usa poco.Aspecto authentication Aspecto logging Paciente ... updateDetails (...)...Tejedor de aspectosPaciente ...código authenticationupdateDetails (...)código logging... Figura 21.6 Tejido  de aspectos M21_SOMMERVILLE_INGENIERIA_1ED_SE_565-590.indd   575M21_SOMMERVILLE_INGENIERIA_1ED_SE_565-590.indd   575 3/18/11   5:38:58 PM3/18/11   5:38:58 PM